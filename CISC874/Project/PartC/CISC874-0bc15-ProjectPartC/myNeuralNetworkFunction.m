function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 13-Nov-2016 13:57:23.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx102 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx1 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.488388;-0.366137;0.180719;-0.276418;-0.383402;0.140914;-0.433521;-0.334213;0.100345;-0.221552;-0.351475;0.102136;-0.378656;-0.302288;0.033779;-0.166686;-0.319552;0.079178;-0.3299;-0.270363;0.010553;-0.11182;-0.287627;0.009429;-0.341954;-0.238438;-0.025628;-0.079508;-0.255702;-0.036731;-0.249072;-0.206514;-0.068277;-0.063383;-0.223777;-0.145113;-0.255489;-0.198419;-0.184091;0.010227;-0.296467;-0.188707;-0.264623;-0.175397;-0.267253;-0.071464;-0.455148;-0.280898;-0.335576;-0.231461;-0.347154;-0.067978;-0.422203;-0.360799;-0.319791;-0.257627;-0.427054;-0.129678;-0.247073;-0.440699;-0.374234;-0.318347;-0.511641;-0.191161;-0.230489;-0.520599;-0.282349;-0.225456;-0.586855;-0.114237;-0.203785;-0.600499;-0.380172;-0.256917;-0.666755;-0.177512;-0.140837;-0.710962;-0.408001;-0.198149;-0.746655;-0.232358;-0.14418;-0.7603;-0.581289;-0.177844;-0.90326;-0.334767;-0.133545;-0.909242;-0.647386;-0.145054;-0.996813;-0.352678;-0.140264;-1;-0.554958;-0.151773;-1;-0.365025;-0.146983;-1];
x1_step1.gain = [1.90891424775416;2.81504981934418;2.44116487505508;1.9032103351934;2.56010486189514;2.32805563121736;2.1772072527128;3.147039108255;2.39438373351467;2.16979279563698;2.93854042696992;2.25475330180437;2.53323926571527;3.50888273664782;2.25206711610419;2.5232071982055;3.71063021343545;2.29916241513217;3.00071867212197;4.82049675219031;2.51611888661739;2.75876148162044;4.62494045389166;2.53452337654273;3.30949942166498;5.24879277766114;2.69090997157054;3.06286218345319;6.28099277371781;2.66603748182096;4.57457587963376;7.33942260762346;2.79604918250512;3.40038322318925;6.92611908769159;2.55650515519265;5.41453694880014;7.11323559747622;2.62980728772196;4.95710861768548;5.60687402755779;2.64790186875674;5.36758568679601;6.91417093904813;2.58706441919757;4.31774268412474;3.93886875689302;2.57430406907373;4.19568683393472;6.48885053257241;2.55629929663425;5.1340236883853;4.23583431110509;2.543839900892;5.3656128603009;5.24480109091863;2.52626047766533;4.80956526339584;5.66339605544465;2.51409148276087;4.33385411813653;4.23980327312813;2.48239362322726;4.01486302291082;5.87799630861832;2.48503079574414;4.4297671492898;4.76723952995018;2.46824906113976;5.22859413560882;5.85752736197469;2.45663426366073;4.45425370092804;4.35185628429807;2.56999708305331;3.61130772675401;5.51201067125266;2.35897460092047;5.25388064759333;4.6149728178101;2.43119121075754;4.00877922650605;5.4321846073617;2.40585874722123;3.18917212280864;3.99760942956112;2.28942184085542;2.96566941089943;4.44715226604644;2.22417702669791;2.90430039759872;3.57338116899592;2.26685405993562;2.72991329795366;3.64543746160899;2.11468798836076;3.14201104416882;3.03675383162415;2.43824534112271;2.54679740226665;3.08864090534242;2.33522642355403];
x1_step1.ymin = -1;

% Layer 1
b1 = [1.51327376270929;-1.1903701768279755;-0.89752463611486799;0.37998383771541755;0.043526685216446169;0.19691911960898606;0.61056229784581451;-0.74584307239878123;1.0923422716853384;-1.3009703831300583];
IW1_1 = [-0.19494030418539665 0.19677477623941253 0.29591872672245711 0.098419450376266579 0.064085358745225598 0.29028063147501454 -0.19106977067868239 0.064224559034660691 0.035010160696400457 0.099545709151519099 -0.28661139177024059 -0.020601360392745873 0.045305219967802179 0.023332400422945404 0.19812897994022902 0.023730759778183719 0.23185229137967864 0.26823092727555331 0.11805687481517788 0.11511424562605421 0.028324317185602972 0.031020318884292738 0.093459122403654726 -0.093024868541518715 -0.03387360092590147 -0.18810095503174834 0.077090815571583635 -0.082265309004481063 -0.0095782640137181754 0.10918835192082273 0.17998234269247182 0.16933286399422581 0.13127664048081333 -0.074720564102436396 -0.15514874628346981 -0.16999885297530881 0.079956781613739633 0.18937146401567578 0.25048167766054524 0.20074464508612416 0.13324718544642095 0.0073044825084422373 -0.0012779280104630274 -0.11853871541577193 0.081402810437399803 -0.098707993636787533 0.064679644866882241 0.0075573828903529837 0.051129990202830766 -0.22108627566102707 0.11655245382267811 0.035462672901053587 -0.014650706476952617 0.11257040741763977 -0.22879916608179734 -0.18568417249412678 -0.057238281076457224 -0.039917856291992057 0.15003055437655879 -0.23864771789167286 0.02372112517493935 -0.10397101723091001 -0.011627837158620674 0.23618802337545242 -0.26689561083160529 -0.19230318883287606 -0.34526972806109779 0.024049106737752381 0.078762037702463428 -0.16786693056909247 -0.12850025581511804 0.011651373123798162 0.16358753715419003 -0.16530665673880302 0.1325420636118935 0.044379147029241478 -0.0085943131776251291 -0.047861085059073633 0.055541585149061302 -0.25580033450659123 0.17665167903692358 -0.16286768611772415 -0.083686542952115042 -0.024876232930872891 -0.026017206358269818 0.21711135150220542 0.16579014301713482 0.29687471130255766 0.025625305468516678 0.040762419716042268 -0.040928860247313001 0.18780030015730065 0.007935958250438236 0.22313570327749058 -0.24047581173865179 0.10132292179508202 -0.12093971879706021 0.15878897136672895 0.0094047887830165239 0.27679570053436492 -0.235343189788038 -0.1693929327268604;0.13475177267519678 -0.11452793128111878 0.064315859526626579 0.052521536142623795 0.032034586427521418 -0.25298791713491287 -0.12773137525688816 0.14985427246173647 -0.1573085826922716 0.066350794680686082 0.24376852281113975 -0.019285841887624573 -0.13190803591368078 0.21945260162451768 0.16136023304211944 -0.16453132911971347 0.034804440544561471 -0.023644183580698256 0.053157121826445004 -0.25191340892737762 -0.20004435319830979 0.012115051323243477 0.12317459178329553 0.0057335352162837718 0.18632820870260305 -0.088033983284852582 -0.18709155996567045 0.080773364310801982 0.11449994911568208 -0.099195009512581755 -0.14075824903700754 0.089229115188720204 0.083567940592165602 -0.23822106995692627 -0.030425636323697765 0.15060232239373869 0.040018529264165992 -0.0045671194111725488 -0.17338719313179873 -0.19128313951426615 0.0076624056886583393 -0.11967889135951544 -0.16004887973400272 0.2674782652241407 -0.092130469348699118 -0.12037782718534115 -0.2145837794998843 -0.12856754612868915 0.17497502367606388 -0.052343252167260948 -0.030239713980167119 -0.24431362281013283 -0.098628107610641932 -0.18604954104683219 -0.15605584570774136 0.0045146134164577422 -0.058178337035038406 0.16522123870204411 0.033331899495817031 -0.030288680994493083 0.1289925039586067 0.04013588363437097 -0.12317504390200738 0.019220210575929736 0.18742636548958466 0.12103181314791082 0.046827139751028708 -0.12231023605934044 0.19117723658300895 -0.14603079226051408 0.029141394939109153 -0.028851753095082762 -0.079398663893224128 0.075543083657960503 0.0009473859272588073 -0.17087210772812939 0.15084301143316581 -0.18026861976352665 -0.033143726080798394 0.29469414905770958 0.17726967569851437 -0.16697200914628832 -0.087859999644780945 -0.20230236020881553 -0.23108672802475522 0.25331039327240135 0.18597336329548411 -0.10858866577941791 0.0088116162392922436 0.18320515848665375 -0.16893570763298049 -0.044743203168123899 -0.17042854796722848 -0.20720431423925095 0.011253680495462409 -0.054062509908889937 -0.0016060487849585822 0.087183725805922818 0.058557227083399062 0.19628936179838918 -0.12132097468398227 0.18242849550218554;0.14627804257071297 0.13860978605864166 0.098797186885511298 -0.17294114499606461 -0.11908730617244903 0.011613685422466085 -0.071028229869057297 0.13126862148920357 0.1802779758339691 0.22448201642470311 -0.07605337758148463 -0.088523048467323076 0.2265683034600135 0.28486413900206153 -0.066643951033277971 0.0920841872894477 -0.029447568500658848 0.076439385157692691 -0.16564409358527729 -0.067236446074034242 -0.175243676507984 -0.17432316015435498 -0.16623883357877403 0.032481454955334547 0.14123725822405894 -0.073516614155581403 -0.083364701293096713 -0.01040100341694784 -0.14837290525278249 0.17681792135130112 0.25265904992373139 -0.12320525228853814 -0.06736880398243246 0.28712815972047828 -0.044856451308777349 -0.041199335820530744 0.24567854909860923 -0.18309625777151495 -0.21419742309531581 0.14724445325542013 -0.23244636513265521 0.06207125767700418 -0.06082774211423321 -0.056539565631018023 -0.098244443647421437 -0.09871382161240834 -0.099705975846744593 -0.051774725436203942 0.17874970498067733 0.027257823318726754 0.1334232585631881 0.070107641560134937 -0.31547317644482981 -0.042646347659026869 0.16134642051832873 0.043846104678399549 -0.01876092954146966 0.011613238694745939 0.18497072374562834 0.14043964734073214 0.0070951345904583631 -0.094809298424672214 -0.21575428785725886 -0.093455687491725781 0.051129904523915297 0.062465176294305313 -0.15804193152786217 -0.27821860721902686 -0.12086349301145576 -0.038286550803754996 0.10212658806725006 0.16933509609751857 -0.092170692325837217 -0.025346185141583294 0.12721082027603459 0.0047499601338861167 -0.14895635134054735 0.00028769433390298438 -0.052791271890378813 0.016165206533825971 0.030819505462546859 0.16455346945576302 0.15244281593135647 0.11557764806033767 -0.018756048674229427 -0.054084616955094297 0.10645382070500879 -0.052320670310820189 -0.17831964050152471 0.1162467789075574 -0.27445810181927927 0.25403095057335823 -0.21711260597284721 -0.20471399858884062 0.11461796842140551 -0.15671348462852755 -0.2586846231689981 -0.065627325404425063 -0.061667615114660235 0.12753785818878793 -0.084016055537753292 0.070589683639171466;0.04834366711982617 0.047853447976715056 0.1670795787059523 0.016697435366421841 -0.19790149295104051 0.20196867252688253 -0.073459573321343313 0.0069884352052227879 -0.21804755763991077 -0.27866103843835266 0.26677490040944413 -0.036015414062990546 0.038871507478533601 0.077061895715444487 0.16090819212108282 0.21938403017411889 0.25239892178180523 -0.033117094386286551 0.14714074738654873 0.0503723989686818 0.18042879596837216 0.31156942573776741 -0.060575283220762575 0.045294767546691816 0.046898780053272859 0.21807271574703102 0.10353458963806675 0.18529000154864708 0.15711995416094873 -0.022678778534423679 0.023137888397578368 -0.11560157384809215 0.010748466480479554 0.024728740834368802 -0.092251782806857807 0.13170900159720045 0.072732215153297641 0.29118025186159568 0.039637455707824613 -0.071449931541714029 -0.2028281602766582 -0.052095173513495831 0.040011935950785331 -0.24873322091251404 -0.29844328221678229 -0.20153975582353556 0.018814536918020409 0.17008446819867395 -0.2105044178029703 0.31103565489722312 -0.25975618773074777 0.050319314784624126 0.17138567586289846 -0.24273084807281123 0.2433867503331619 0.26322129360645996 0.34000824575128874 -0.19789778251059256 0.1577908067732216 0.10220986063381651 -0.14064937795504165 -0.15450173885505586 -0.16879990097031217 0.033826219867125799 0.18091436510462322 0.056891474786330547 0.055647315110520561 0.005747970727200416 0.23410933125952255 0.04048868862855691 0.035741621033839835 0.18885759639751082 -0.17056043668062779 -0.095193341872012824 0.081637663887762946 -0.13577286354760262 0.13032731582346424 0.11057260685989909 -0.12368309760068497 -0.26716713106705103 0.17926542782543178 -0.11090323523945982 -0.046067261363033428 -0.11564781136320958 -0.049056589931695566 0.24131834928041956 -0.1813038324040176 0.32773899986091476 -0.16662603776216095 -0.23028480099635765 0.080535269247117486 -0.10275388695913279 -0.019460508837834817 0.088781017325975431 -0.11873122794084598 0.15545161853895784 -0.071318888164903033 0.020366917353434252 0.083522252793434837 -0.15405765425177836 0.057891167205072744 -0.21423425453887512;0.044271056417457891 -0.13898400983940917 0.036984879601751439 0.14269673730452645 -0.13215812427900342 -0.22090570700059645 -0.054970743990986615 -0.24921034291211769 -0.191899840761833 -0.01108375487286372 -0.01202830158868249 -0.04384143879741835 -0.084431606178725263 0.23225502677585727 0.22358045234451268 0.086517482773472376 0.19574411222558399 0.089051690782365855 0.34954603896251618 0.13419057979554658 -0.060961053643827041 0.33615385175410489 0.056783744139434836 -0.14951737549615882 0.12891574151312496 -0.10996209151866101 0.020847973936006792 -0.11421609585467683 -0.10146589739703805 -0.070507957709858377 -0.17671700446431518 -0.077035923752483124 -0.16672179010087029 0.012729503273145256 -0.15479355110070886 -0.16711607087570687 -0.04830886908605455 0.14348119407277415 -0.090810317357549381 0.10844006262038026 0.063622330318050035 -0.12859578992172649 0.22653056636263805 0.11527229067989364 0.15979817180088338 0.10177633239009273 0.036771912756918192 -0.20289272714144682 0.18196867848274384 -0.24963975574765188 0.24662325201078572 -0.10200978120799789 0.033683372302510908 -0.20471764072747767 -0.06597058693679457 0.15543338618114794 0.11138977064351205 -0.018465260753033681 -0.04890890301351658 0.12117132603866837 -0.23788947165033167 -0.1661390991926377 -0.040564134443101793 -0.035370598359546243 -0.05584127443027196 -0.045648011735294994 -0.19604084142333669 -0.17554279926274624 0.19487306114872607 -0.0086856592311337841 0.14084897898808527 -0.13574142430185981 -0.26538399381240257 -0.204338245818598 -0.096586706484419707 -0.079571422647070539 -0.01922578603222665 -0.055476483050867942 0.14805822445842745 -0.32165060790136762 0.18089456779412516 -0.085941065785419712 0.080690356920231229 0.30341299014603629 0.11253479215293252 -0.14295112571291424 -0.24211373949130363 -0.17360146746684796 0.024391437407876415 -0.0086675214759174835 -0.10455671775368978 0.24012514982420349 0.26804469607566067 -0.059852744704103081 0.24239685850656947 0.080213288024749613 0.12309338786516112 0.19024580275465194 -0.02676362038220843 0.18571406689244582 0.0038311405691604239 0.11376933734512568;0.0075098005426057915 0.15947401174515968 -0.13396650751769634 -0.062000095895080758 -0.13413156460668371 0.25398503788102511 -0.11107233733696743 0.11639313767878327 0.20529821495130085 -0.21244960726129589 -0.0062828891788372998 -0.17230071646475412 0.052503469698903807 0.16074865392426543 -0.082930782582421092 -0.061277405590740873 0.16833691126028633 -0.14827796635868745 0.088382922722542279 0.17023188735875003 0.21986290707493547 0.054386537750934792 -0.086256149766339621 -0.056018842105437137 0.21374417447138305 -0.18159826367827026 -0.055183778319893906 -0.0064701446586094384 -0.05199314569049733 0.13378396046504734 0.061372516908603035 0.12770787671913769 0.054741766917826243 0.24983576815095507 0.23215548165548691 0.13198876809067625 0.1566641314356006 0.13733119402392294 -0.29607459751199772 0.21312135271296428 0.11415448356480953 0.038947734242492232 0.10909207307556129 -0.0014636357331716627 -0.15560681323626419 0.13459168682743899 -0.125092480909406 0.1635948967853563 0.038155090892228967 0.093116433862482945 -0.064415708930348245 0.072338575520305107 0.11883846290836253 0.026535103980536844 0.15888166376147689 -0.17266615387397419 -0.029817714524829234 -0.15067949826273977 -0.073869790378911462 0.17428176390302369 0.040162800055524979 -0.11782657113950872 -0.041836023123494326 0.075473814027629677 -0.0027210860822889475 -0.1822644496734952 0.14330607358483863 0.23666186559097027 -0.32331339102016965 -0.036715801538566684 0.16494527213989649 -0.050537908620823857 0.0095792622723657982 0.042844330909271144 -0.18619694742794646 0.077651044000775993 0.10593734199823733 -0.025473491902971684 -0.080806949500990391 0.069743211987752879 -0.21666419595973235 0.24200760413378611 -0.037466407879927117 0.15182920544203266 -0.24289770120742166 0.19046616321698739 -0.0099579838169178009 0.1331861819206579 -0.17943387042481401 0.061282898517818055 -0.030991163777656643 0.1502580643230943 -0.030422151529922208 -0.21606292762181614 -0.16012273142927058 0.0120612903705632 -0.23944166395960814 0.28442158120343819 0.21468084460214365 -0.011101346725338765 0.09853753433944501 -0.15968310984826223;-0.022437017162997779 -0.060751298119101536 0.086002822796319878 0.18089557092062047 -0.11254892607888144 0.26786977532320455 0.14883817491007756 0.37304834907192941 0.13840711165796246 0.18703116039515694 -0.31234729748695933 -0.0045723548267217889 0.06106667761124026 0.20744539272053905 -0.087506147936823098 0.17353356562151673 0.034953373127731807 -0.21044499882559708 -0.13432932519330112 0.18237430493475026 0.35887897084648673 -0.21938416607472283 0.0092858083533270755 -0.019949940328717629 0.10366510242868746 0.19313382022505732 0.14229521866586284 -0.07634834731060941 -0.12029616220502456 -0.054326800248568126 -0.013652366713765324 0.24664310166152886 -0.1649507900456432 0.056247326100696035 0.00036806165413898195 -0.093684647792744657 -0.25433852030324627 -0.20089457382177067 0.11503246350376628 -0.4961741267883929 0.024697188554803816 0.081265672702696093 0.18854958619809115 0.18807411431371662 0.4092344929799106 -0.14483470866244055 -0.11593044959212795 0.1065018859232635 -0.22410812737674218 -0.39568517124587244 -0.20940850619408055 -0.30921629726220373 0.29760910321673828 0.032637756055716095 -0.41506349522453895 -0.031015824597357633 -0.1123268050852505 -0.16992067842536301 0.032024154118189527 -0.034033418525439507 -0.35686708052164828 0.14930092875547807 0.2962720379178182 -0.11778985618740721 0.10224480502429296 -0.33270048460175161 -0.18483266469934301 -0.046671357643168654 0.25911872582066642 0.12863146828467817 0.33633114505484901 -0.20252490200321735 -0.012935451389501862 -0.25184060260120344 -0.13179424770900303 -0.078054294615873432 0.050115860594157666 -0.092084875648625164 -0.13139189205911034 -0.16975934913831162 0.026057154955205546 -0.087555319434788767 0.13530839140110465 -0.2117020219516193 0.26708545704821951 -0.24487687987213513 -0.089183836286471432 -0.25831423996879266 0.17412849938303837 0.026550162327116544 -0.074282463270047269 0.010815123626205283 0.077505038318357297 0.014849475094275491 -0.18431864815665561 0.13295386474725537 -0.2248450347784462 0.14809849386265447 -0.035956846055515759 -0.097503381554262997 -0.31168374026802503 0.1020791879274959;-0.16799209767305809 -0.02223531720144211 -0.18470087079746872 0.042498209589191017 -0.045099176971713589 -0.10450334244118126 0.15479863586445092 -0.19635953307333803 -0.058136959400514193 0.09150392898870463 0.071839303003169167 0.040684995624564312 0.070170386223749506 -0.083799289237910343 0.12594057206284689 -0.12667672743685665 -0.026820725705406875 -0.18509860357506747 -0.2196854517135344 -0.1767607086809394 0.18489931482384789 -0.16291762176819821 0.12165238424728922 -0.18377509784382556 0.13758616534133802 -0.22917975959411124 -0.18178346450999799 -0.27756053931981339 0.14318245462529941 0.21530989202501474 0.034785750221037512 -0.012235193180327147 0.10294025834261608 -0.019557721844221967 0.10594603553383664 0.2366302110434142 0.1758982391117134 0.14097741952954634 0.0036469814506890422 -0.32783412788132388 0.018327738923993385 0.20686452664164473 -0.16364623084441077 -0.024331597618105778 0.18785118828717498 0.16487636356885249 0.11787532479337019 -0.22126077625850657 -0.17576918376900694 -0.058853785928831184 -0.24184646013950467 0.16250399395708257 -0.088170122988096997 0.16740044944841401 0.1926476811252277 -0.081585118456662567 -0.15647481180260545 0.28430485906864933 -0.26786883558273766 0.12937610246354164 0.15040900445512859 0.052702045719401514 0.10480232597785839 0.010233236249761836 0.02852564047584117 -0.090038563318184064 0.10587481771880404 0.19395637065909208 0.0467163633229878 0.054274419341339392 -0.024753324616839177 -0.0099403801618974212 -0.049434020622061162 -0.08223845063940341 -0.026647214122812277 0.083621986190712636 -0.047620314415875158 0.061520589065115192 0.1613105351213068 0.21588810457843774 0.065048754299331074 0.12054483135529057 0.093326823034780459 -0.13968249223337798 -0.054098612608131834 -0.28177244293042814 -0.08487740485354392 0.16634911994115414 0.08347614944217778 0.26477605771271329 -0.063869495848559804 0.00078119251994484759 -0.03769601945176751 -0.045757732145567873 -0.011006046680530729 0.012874796899278413 0.03300571582624217 -0.065301487006631576 0.26367692271873416 -0.00652816755541865 -0.34996269521929985 0.12012571334329075;0.26367795996026827 0.087198506071037296 0.08816396612132929 -0.013075901482464668 0.25853036000639723 0.079811813632923861 -0.152633702461759 -0.10394371543868963 -0.051842733149078987 0.046872039987577864 0.014638010068407337 0.063566731644588606 0.24734010033815684 0.12063941003937807 0.050708797873257834 -0.19975284938147328 -0.1107446569307356 0.13727515567469445 -0.061323261968697224 0.026058720223718558 0.2330770181836041 -0.078094611934560076 0.2217579471593919 -0.22473359863320611 0.20815474875224099 -0.28209322678305809 0.17909523091237103 -0.1414919729826383 -0.18745840997849886 -0.00074099173511738871 -0.021734590726353774 0.13069871387690712 0.29974685813897428 0.018293509609817835 0.012472586015035723 0.18241085578872185 0.034056842167016078 0.12995210038560956 0.10459283267011778 -0.12112731421875 0.22733461181129899 0.13608399074195349 0.04397312816776891 0.11597952559888208 -0.088370795822302742 0.16403382372946793 -0.13262210948534336 -0.11575038468464888 -0.15785928206016872 -0.13867269793792394 -0.096493903161231895 -0.2623634400677165 -0.12509430130995036 0.18804442552755343 0.16483083274296242 -0.1512806184063539 -0.034467329579615139 0.2088143065914187 0.082723972577893837 0.17308608867561159 -0.33378178845760514 0.11909538339213416 0.18754231166667679 -0.24440544771377654 -0.013200587541145864 0.23419869816286368 0.1079522295391061 -0.094828963752909626 0.062118605152717957 0.18631067984896382 0.061955731555888023 0.26655676724245037 -0.050034078106500145 -0.26572723087290578 0.11878364450078029 0.089699820042819733 -0.022927917344826774 0.016810480559873137 0.270986992462663 0.10487594285134187 -0.038219362452641979 0.0025907773251914248 0.088766558560223377 0.22323042722437678 0.031461930429912341 -0.016067362965243383 -0.028805780439501803 -0.0038460845739524685 0.0081782706837651327 -0.039286483281417227 -0.18583837761293692 -0.19969187222204066 0.25992672579086173 -0.035332250904439796 0.15672890617375804 0.1178660359959123 0.049009282020797143 0.10359669340433843 0.14098012523310335 0.15354613326434177 0.018926310315142865 0.030776103006946991;-0.14094919431949604 0.055735992601227427 0.29001545009792357 -0.04197481033662364 0.04379189863466855 -0.073284055336523449 -0.055890299595994591 0.083976937796581844 0.035771879330359975 -0.1099745352439879 -0.17063698756901666 0.33072754941431065 0.16116807390844781 0.20401363581015666 0.20039102648422707 0.15963258798110427 -0.013988338726014259 0.12878000126652908 0.067159709569289489 0.15804107686046248 0.20685451574467378 -0.040515716282715691 -0.29530640487189297 0.00037483283495777075 0.19904690438775591 0.13359467830212801 0.16908338127193695 -0.063267313107799969 0.24018850188341481 0.15678825146511813 0.11026404012480104 0.18030748805782112 -0.061023920287331682 0.11807727793933784 -0.2722965549092769 0.071980228851522179 -0.14316849836649689 0.016300386097446704 0.053357549919234179 0.12586610616064767 -0.021384930454270673 0.064185733198037387 -0.056809660539805039 0.17526891862030519 -0.066041751623096598 -0.17124967578766703 -0.15054982393740388 -0.26113957273867167 0.1138672733252022 0.21623636333309837 -0.24882311349342534 -0.057610701673362325 -0.091958249224894345 0.028174432314673644 -0.077841295504705393 -0.047439479212941081 0.10662668936363554 0.14186422738955665 -0.121658003545407 0.011643528864118461 -0.12223940420204452 0.22886886383116509 0.05561291384626961 -0.25379059719543767 0.19577441290658559 -0.19658241462109605 -0.018882604136749123 0.1534242791496454 -0.11940845206463367 -0.17681401527799986 0.1711366033844767 -0.16507532286170454 -0.025064521355584332 -0.1078458999254375 0.26704379812078688 0.17718054815744386 -0.12202859639944161 0.033599436495925103 0.14637715077793115 0.1168671610622498 0.19197524397430848 -0.12819141798829314 0.051159428373576302 -0.076839423339917945 0.21465336465935503 0.025316264296405711 0.17697285063795695 0.040851797540075008 -0.19366899195383197 0.21335151264923247 -0.062680879784448557 -0.076847126439768002 -0.053816497207058271 -0.18260670008584598 -0.12407133483337598 -0.34079232281936517 -0.19914242727100723 0.27176847887194594 0.065483707706478975 -0.085511806100049742 0.050872772410749098 -0.13279584471807729];

% Layer 2
b2 = -0.18646183316252071;
LW2_1 = [-0.83203097231724676 -0.1985649765392184 0.17848255240482716 0.71611411289482474 0.42607655438457426 -0.21015194258966116 -0.84928250131451588 -0.39505361050629595 0.42322712267334872 -0.64899512951448213];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 3.27830104015575;
y1_step1.xoffset = 0.0232589;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
